/**
 Atlas.js
 Collection of maps and transition data
 Will eventually be loaded from json
 */
 
 /**
 TILESET
 0 - none
 1 - dungeon floor
 2 - dungeon wall
 3 - dungeon door
 4 - exterior pillar
 5 - dungeon ceiling
 6 - grass
 7 - interior pillar
 8 - interior chest
 9 - exterior chest
 10- house wall
 11- house door
 12- tree
 13- burnt house
 14- gravestone
 15- water
 16- skull pile
 17- hay pile
 18- locked door
 19- cult leader tile
 */

var MAP_COUNT = 11;

var atlas = new Object();
atlas.maps = new Array();

for (var i=0; i<MAP_COUNT; i++) {
  atlas.maps[i] = new Object();
  atlas.maps[i].exits = new Array();
  atlas.maps[i].enemies = new Array();
  atlas.maps[i].shops = new Array();
  atlas.maps[i].scripts = new Array();
}

atlas.maps[0].name = "Pier";
atlas.maps[0].music = "odyssey";
atlas.maps[0].width = 12;
atlas.maps[0].height = 14;
atlas.maps[0].background = 6;
atlas.maps[0].tiles = [["2","12","12","12","12","12","12","12","12","15","15","15"],["2","12","12","12","12","12","12","12","12","15","15","15"],["2","6","6","6","6","6","6","6","6","15","15","15"],["2","6","6","6","6","6","6","6","6","15","15","15"],["3","1","1","1","6","6","6","6","6","15","15","15"],["2","6","6","1","6","6","6","6","6","15","15","15"],["2","6","6","1","1","1","6","6","6","9","15","15"],["2","6","6","6","6","1","1","6","6","1","15","15"],["2","6","6","6","6","6","1","1","1","1","15","15"],["2","6","6","6","6","6","6","6","6","1","15","15"],["2","6","6","6","6","6","6","6","6","1","15","15"],["15","15","15","15","15","15","15","15","15","1","15","15"],["15","15","15","15","15","15","15","15","15","15","15","15"],["15","15","15","15","15","15","15","15","15","15","15","15"]];
atlas.maps[0].scripts[0] = {type:"exit", x:0, y:4, dest_map:1, dest_x:10, dest_y:15};
atlas.maps[0].scripts[1] = {type:"chest", x:9, y:6, status:"item_pier", item:"!POWER", qty:0};
atlas.maps[0].scripts[2] = {type:"script", x:-1, y:-1, script:"console.log('exec autorun');"};
atlas.maps[0].enemies = [ENEMY_RAT, ENEMY_CRIMINAL];

atlas.maps[1].name = "Village";
atlas.maps[1].music = "odyssey";
atlas.maps[1].width = 12;
atlas.maps[1].height = 20;
atlas.maps[1].background = 1;
atlas.maps[1].tiles = [["2","2","2","2","2","2","2","2","2","2","2","2"],["2","1","1","1","1","1","6","2","3","2","6","2"],["2","1","2","2","7","1","6","6","1","6","6","2"],["2","1","2","3","5","1","1","1","1","12","12","2"],["2","1","2","2","7","1","12","6","1","6","2","2"],["2","1","1","1","1","1","6","12","1","1","1","3"],["2","6","12","12","6","6","6","12","1","6","2","2"],["2","12","6","6","6","12","6","6","1","6","6","2"],["2","2","6","2","2","2","2","2","2","2","2","2"],["2","6","6","6","6","10","10","10","1","11","10","2"],["2","10","10","10","6","10","11","10","1","10","10","2"],["2","10","11","10","6","12","1","12","1","10","11","2"],["2","6","1","1","1","1","1","1","1","1","1","2"],["2","10","10","6","1","10","10","10","1","12","12","2"],["2","10","11","1","1","10","10","10","1","6","2","2"],["2","10","10","6","1","10","10","10","1","1","1","3"],["2","10","11","1","1","10","10","10","1","6","2","2"],["2","10","10","6","1","1","1","1","1","6","6","2"],["2","9","6","6","12","12","6","10","11","10","10","2"],["2","2","2","2","2","2","2","2","2","2","2","2"]];
//new
atlas.maps[1].scripts[0] = {type:"exit", x:11, y:15, dest_map:0, dest_x:1, dest_y:4};
atlas.maps[1].scripts[1] = {type:"shop", x:9, y:9, shop_id:4, dest_x:8, dest_y:9}; //tavern message
atlas.maps[1].scripts[2] = {type:"shop", x:10, y:11, shop_id:2, dest_x:10, dest_y:12}; //inn, I think
atlas.maps[1].scripts[3] = {type:"chest", x:1, y:18, status:"item_village0", item:"Crystal", qty:16};
atlas.maps[1].scripts[4] = {type:"shop", x:11, y:5, shop_id:5, dest_x:10, dest_y:5}; //locked gate
atlas.maps[1].scripts[5] = {type:"shop", x:2, y:16, shop_id:0, dest_x:3, dest_y:16}; //weapons shop
atlas.maps[1].scripts[6] = {type:"shop", x:2, y:14, shop_id:1, dest_x:3, dest_y:14}; //armor shop
atlas.maps[1].scripts[7] = {type:"shop", x:2, y:11, shop_id:7, dest_x:2, dest_y:12}; //arms dealer
atlas.maps[1].scripts[8] = {type:"lift", x:8, y:1, floor:1, dest_x:8, dest_y:2}; //elevator
atlas.maps[1].scripts[9] = {type:"exit", x:3, y:3, dest_map:2, dest_x:18, dest_y:3}; //mext
atlas.maps[1].scripts[10] = {type:"shop", x:8, y:18, shop_id:3, dest_x:8, dest_y:17}; //spell shop
//atlas.maps[1].scripts[3] = {type:"exit", x:4, y:10, dest_map:4, dest_x:6, dest_y:2};

//atlas.maps[1].enemies = [ENEMY_SHADOW_TENDRILS, ENEMY_IMP, ENEMY_SNAKE];

atlas.maps[2].name = "Catacombs";
atlas.maps[2].music = "tunnels";
atlas.maps[2].width = 24;
atlas.maps[2].height = 24;
atlas.maps[2].background = 5;
atlas.maps[2].tiles = [["0","0","0","0","0","0","0","0","0","0","0","0","2","2","2","2","2","2","2","2","2","2","2","0"],["0","0","0","0","0","0","0","0","0","0","0","0","2","8","5","5","5","28","5","2","3","2","2","0"],["0","0","0","0","0","0","0","0","0","0","0","0","3","5","5","7","5","28","5","7","5","30","2","0"],["0","0","0","0","0","0","0","0","0","0","0","0","2","5","5","5","5","28","1","5","5","5","2","0"],["0","0","0","0","0","0","0","0","0","0","0","0","2","5","29","7","5","28","5","7","5","5","2","0"],["2","2","2","2","2","2","2","2","2","2","2","2","2","2","5","2","2","28","2","2","5","2","2","2"],["2","5","5","5","5","5","5","5","5","5","5","5","5","5","5","5","2","28","5","7","5","7","5","2"],["2","5","7","5","7","7","5","5","7","7","2","2","2","2","2","2","2","28","5","5","5","5","5","2"],["2","5","7","5","5","5","5","5","5","5","5","5","5","5","5","5","5","28","5","7","7","7","5","2"],["2","5","5","5","5","5","5","5","5","5","5","5","5","5","5","5","5","28","5","5","5","5","5","2"],["2","2","2","2","2","2","2","2","2","2","2","5","2","2","2","2","2","28","5","7","5","7","5","2"],["0","0","0","0","0","0","0","2","5","5","5","5","5","5","5","5","5","28","5","7","5","7","5","2"],["0","0","0","0","0","0","0","2","5","5","5","5","5","5","5","5","5","28","5","7","5","7","5","2"],["0","0","0","0","0","0","0","2","2","5","2","2","2","2","2","5","2","28","5","5","5","5","5","2"],["0","0","0","0","0","0","0","0","2","5","5","5","5","5","7","7","7","28","5","7","7","7","5","2"],["0","0","0","0","0","0","0","0","2","5","5","5","5","5","5","5","5","28","5","5","5","5","5","2"],["0","0","0","0","0","0","0","0","2","2","2","2","5","5","7","5","8","28","5","2","5","2","2","2"],["0","0","0","0","0","0","0","0","0","0","0","2","5","5","5","5","5","28","5","2","5","2","0","0"],["0","0","0","0","0","0","0","0","0","0","0","2","7","5","7","7","7","28","5","2","5","2","0","0"],["0","0","0","0","0","0","0","0","0","0","0","2","5","5","7","5","5","5","5","2","5","2","0","0"],["0","0","0","0","0","0","0","0","0","0","0","2","5","5","7","5","5","28","5","2","5","2","0","0"],["0","0","0","0","0","0","0","0","0","0","0","2","5","5","5","5","5","28","5","2","8","2","0","0"],["0","0","0","0","0","0","0","0","0","0","0","2","2","2","2","2","2","2","2","2","2","2","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]];
atlas.maps[2].scripts[0] = {type:"lift", x:20, y:1, floor:2, dest_x:20, dest_y:2};
atlas.maps[2].scripts[1] = {type:"mod", x:-1, y:-1, dest_x:17, dest_y:3, flag:"l1_boss", tile:5};
atlas.maps[2].scripts[2] = {type:"exit", x:12, y:2, dest_map:3, dest_x:2, dest_y:21}; //TODO find the right spot
atlas.maps[2].scripts[3] = {type:"mod", x:-1, y:-1, dest_x:17, dest_y:9, flag:"l1_boss", tile:5};
atlas.maps[2].scripts[4] = {type:"mod", x:-1, y:-1, dest_x:17, dest_y:12, flag:"l1_boss", tile:5};
atlas.maps[2].scripts[5] = {type:"mod", x:-1, y:-1, dest_x:17, dest_y:15, flag:"l1_boss", tile:5};
atlas.maps[2].scripts[6] = {type:"mod", x:-1, y:-1, dest_x:14, dest_y:4, flag:"l1_boss", tile:5}; //delete the enemy tile
atlas.maps[2].scripts[7] = {type:"enemy", x:14, y:4, dest_x:14, dest_y:5, enemy_id:ENEMY_RAIDER, status:"l1_boss"}; //actual enemy
atlas.maps[2].scripts[8] = {type:"chest", x:13, y:1, status:"item_l2i1", item:"Red Key", qty:1};
atlas.maps[2].scripts[9] = {type:"chest", x:20, y:21, status:"item_l2i2", item:"Sling", qty:1};
atlas.maps[2].scripts[10] = {type:"chest", x:16, y:16, status:"item_l2i3", item:"Magic Dust", qty:1};
atlas.maps[2].scripts[11] = {type:"shop", x:21, y:2, shop_id:11, dest_x:21, dest_y:3};
atlas.maps[2].enemies = [ENEMY_RAT, ENEMY_RAT, ENEMY_RAT, ENEMY_SNAKE, ENEMY_SNAKE, ENEMY_SNAKE, ENEMY_CRIMINAL, ENEMY_CRIMINAL, ENEMY_ZOMBIE];

atlas.maps[3].name = "Maintenance";
atlas.maps[3].music = "level3";
atlas.maps[3].width = 18;
atlas.maps[3].height = 24;
atlas.maps[3].background = 5;
atlas.maps[3].tiles = [["2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2"],["2","5","5","5","5","5","5","5","5","5","5","5","5","5","5","5","5","2"],["2","5","24","25","24","5","5","5","5","5","5","5","5","5","5","5","5","2"],["2","5","25","24","25","5","28","28","28","28","28","31","28","28","28","31","28","2"],["2","5","24","25","24","5","28","5","5","5","5","5","5","28","5","32","5","2"],["2","5","5","5","5","5","28","5","5","5","5","5","5","28","5","8","5","2"],["2","2","2","2","5","2","28","2","5","2","2","2","2","28","2","2","2","2"],["0","0","2","5","5","5","28","5","5","5","2","0","2","28","2","0","0","0"],["2","2","2","2","2","5","28","5","2","2","2","0","2","28","2","0","0","0"],["2","25","25","25","2","5","31","5","2","0","0","0","2","28","2","0","0","0"],["2","25","23","25","2","5","28","5","2","2","2","2","2","28","2","2","2","0"],["2","25","26","25","2","5","28","5","2","5","5","5","5","31","5","5","2","0"],["2","25","23","25","2","5","28","5","2","5","28","28","28","28","28","5","2","0"],["2","25","25","25","2","5","28","5","2","5","28","24","28","24","28","5","2","0"],["2","25","26","25","2","5","28","5","2","5","28","28","28","28","28","5","2","0"],["2","25","23","25","2","5","28","5","2","5","28","28","28","28","28","5","2","0"],["2","25","26","25","5","5","31","5","5","5","28","24","28","24","28","5","2","0"],["2","25","23","25","2","5","28","5","2","5","28","28","28","28","28","5","2","0"],["2","25","25","25","2","5","21","5","2","5","5","5","5","5","5","5","2","0"],["2","2","2","2","2","5","2","2","2","2","2","2","2","2","2","2","2","0"],["0","2","7","5","5","5","7","2","0","0","0","0","0","0","0","0","0","0"],["0","3","5","5","5","5","5","3","0","0","0","0","0","0","0","0","0","0"],["0","2","7","5","5","5","7","2","0","0","0","0","0","0","0","0","0","0"],["0","2","2","2","2","2","2","2","0","0","0","0","0","0","0","0","0","0"]];
atlas.maps[3].scripts[0] = {type:"exit", x:1, y:21, dest_map:2, dest_x:13, dest_y:2};
atlas.maps[3].scripts[1] = {type:"lift", x:7, y:21, floor:3, dest_x:6, dest_y:21};
atlas.maps[3].scripts[2] = {type:"chest", x:2, y:14, status:"item_l3i1", item:"Yellow Key", qty:1};
atlas.maps[3].scripts[3] = {type:"chest", x:15, y:5, status:"item_l3i2", item:"Green Key", qty:1};
atlas.maps[3].scripts[4] = {type:"enemy", x:15, y:4, dest_x:15, dest_y:3, enemy_id:ENEMY_CYBORG, status:"l3_boss"}; 
atlas.maps[3].scripts[5] = {type:"chest", x:2, y:11, status:"item_l3i3", item:"Crystal", qty:100};
atlas.maps[3].scripts[6] = {type:"chest", x:2, y:16, status:"item_l3i4", item:"Adventurer", qty:1};
atlas.maps[3].enemies = [ENEMY_SNAKE, ENEMY_CRIMINAL, ENEMY_ZOMBIE, ENEMY_ZOMBIE, ENEMY_RAIDER];

atlas.maps[4].name = "Facilities";
atlas.maps[4].music = "level4";
atlas.maps[4].width = 14;
atlas.maps[4].height = 20;
atlas.maps[4].background = 4;
atlas.maps[4].tiles = [["21","21","21","21","21","21","21","21","21","21","22","21","21","0"],["21","25","25","22","25","22","25","25","21","25","25","25","21","0"],["21","25","25","21","25","21","25","25","21","24","25","24","21","0"],["21","21","21","21","25","21","21","21","21","21","25","21","21","21"],["21","25","25","22","25","22","25","25","26","21","25","21","25","21"],["21","25","25","21","25","21","25","25","25","21","25","22","25","21"],["21","21","21","21","25","21","21","21","21","21","25","21","25","21"],["25","22","25","25","25","25","25","25","25","25","25","21","25","21"],["25","21","21","21","21","25","21","21","21","21","25","21","21","21"],["25","21","0","0","21","25","21","20","20","25","25","25","25","21"],["25","21","0","0","21","20","21","20","15","15","15","15","15","21"],["25","21","0","0","0","0","21","15","15","15","15","15","20","21"],["25","21","0","0","21","20","21","20","20","20","20","25","25","21"],["25","21","0","0","21","25","21","25","25","25","25","25","25","21"],["25","21","21","21","21","25","21","21","21","21","25","21","21","21"],["25","22","25","25","25","25","25","25","25","25","25","25","21","0"],["21","21","21","22","21","21","22","21","21","21","21","25","21","21"],["0","21","25","25","25","21","25","25","21","21","25","25","24","21"],["0","21","25","25","25","21","25","25","21","22","25","25","24","21"],["0","21","21","21","21","21","21","21","21","21","21","21","21","21"]];
atlas.maps[4].scripts[0] = {type:"lift", x:9, y:18, floor:4, dest_x:10, dest_y:18};
atlas.maps[4].scripts[1] = {type:"shop", x:6, y:16, shop_id:9, dest_x:6, dest_y:15};
atlas.maps[4].scripts[2] = {type:"shop", x:3, y:16, shop_id:12, dest_x:3, dest_y:15};
atlas.maps[4].scripts[3] = {type:"chest", x:8, y:4, status:"item_l4i1", item:"Rifle", qty:1};
atlas.maps[4].scripts[4] = {type:"exit", x:1, y:15, dest_map:8, dest_x:6, dest_y:8};
atlas.maps[4].scripts[5] = {type:"exit", x:1, y:7, dest_map:8, dest_x:6, dest_y:1};
atlas.maps[4].scripts[6] = {type:"exit", x:10, y:0, dest_map:5, dest_x:6, dest_y:1};
atlas.maps[4].enemies = [ENEMY_ZOMBIE, ENEMY_ZOMBIE, ENEMY_CYBORG, ENEMY_CYBORG, ENEMY_DRONE];


//will actually be the production outer path
atlas.maps[5].name = "Production";
atlas.maps[5].music = "level5";
atlas.maps[5].width = 16;
atlas.maps[5].height = 24;
atlas.maps[5].background = 4;
atlas.maps[5].tiles = [["0","0","0","0","21","21","22","21","21","0","0","0","0","0","0","0"],["0","0","0","0","21","24","25","25","21","21","21","21","21","21","21","0"],["0","0","0","0","21","24","25","25","25","25","25","25","25","25","21","0"],["0","0","0","0","21","24","25","25","21","21","21","21","21","25","21","0"],["21","21","21","21","21","21","22","21","21","21","21","21","21","25","21","0"],["21","25","25","25","25","25","25","25","25","25","25","21","24","25","21","0"],["21","25","25","25","25","25","25","25","25","25","25","21","21","25","21","0"],["21","25","25","25","25","25","25","25","25","25","25","21","21","25","21","0"],["21","25","25","25","25","25","25","25","25","25","25","21","24","25","21","0"],["21","25","25","25","25","25","25","25","25","25","25","21","21","25","21","0"],["21","25","25","25","25","25","25","25","25","25","25","21","21","25","21","0"],["21","25","25","25","25","25","25","25","25","25","25","21","24","25","21","0"],["21","25","25","25","25","25","25","25","25","25","25","21","24","25","21","0"],["21","25","25","25","25","25","25","25","25","25","25","21","21","25","21","0"],["21","25","25","25","25","25","25","25","25","25","25","21","21","25","21","0"],["21","25","25","25","25","25","25","25","25","25","25","21","24","25","21","0"],["21","25","25","25","25","25","25","25","25","25","25","21","21","25","21","0"],["21","25","25","25","25","25","25","25","25","25","25","21","21","25","21","0"],["21","25","25","25","25","25","25","25","25","25","25","21","24","25","21","0"],["21","21","21","21","21","21","22","21","21","21","21","21","21","25","21","0"],["0","0","0","0","21","24","25","26","21","21","21","21","21","25","21","0"],["0","0","0","0","21","24","25","25","25","25","25","25","25","25","21","0"],["0","0","0","0","21","24","25","25","21","21","21","21","21","21","21","0"],["0","0","0","0","21","21","22","21","21","0","0","0","0","0","0","0"]];
atlas.maps[5].scripts[0] = {type:"exit", x:6, y:0, dest_map:4, dest_x:10, dest_y:1}; //upper to facilities
atlas.maps[5].scripts[1] = {type:"lift", x:6, y:23, floor:5, dest_x:6, dest_y:22}; //lift at bottom
atlas.maps[5].scripts[2] = {type:"exit", x:6, y:4, dest_map:9, dest_x:10, dest_y:1}; //upper door to main production area
atlas.maps[5].scripts[3] = {type:"exit", x:6, y:19, dest_map:9, dest_x:10, dest_y:16}; //lower door to main production area
atlas.maps[5].scripts[4] = {type:"chest", x:7, y:20, status:"item_l5i1", item:"Ultra Dust", qty:1};

atlas.maps[6].name = "The Core";
atlas.maps[6].music = "boss";
atlas.maps[6].width = 11;
atlas.maps[6].height = 24;
atlas.maps[6].background = 4;
atlas.maps[6].tiles = [["0","0","21","21","21","21","21","21","21","0","0"],["0","0","21","20","20","20","20","20","21","0","0"],["0","0","21","20","0","0","0","20","21","0","0"],["0","0","21","20","0","0","0","20","21","0","0"],["0","0","21","20","0","0","0","20","21","0","0"],["0","0","21","20","20","20","20","20","21","0","0"],["0","0","21","21","21","25","21","21","21","0","0"],["0","0","0","0","21","25","21","0","0","0","0"],["0","0","0","0","21","25","21","0","0","0","0"],["21","21","21","21","21","25","21","21","21","21","21"],["21","25","25","25","24","25","24","25","25","25","21"],["21","25","25","25","24","25","24","25","25","25","21"],["21","25","25","25","24","25","24","25","25","25","21"],["21","21","21","21","21","25","21","21","21","21","21"],["0","0","0","0","21","25","21","0","0","0","0"],["0","0","0","0","21","25","21","0","0","0","0"],["0","0","0","0","21","25","21","0","0","0","0"],["0","0","0","0","21","25","21","0","0","0","0"],["0","0","0","0","21","25","21","0","0","0","0"],["0","0","0","21","21","25","21","21","0","0","0"],["0","0","0","21","23","25","23","21","0","0","0"],["0","0","0","21","25","25","25","21","0","0","0"],["0","0","0","21","23","25","23","21","0","0","0"],["0","0","0","21","21","22","21","21","0","0","0"]];
atlas.maps[6].scripts[0] = {type:"lift", x:5, y:23, floor:6, dest_x:5, dest_y:22};
atlas.maps[6].scripts[1] = {type:"enemy", x:5, y:5, dest_x:5, dest_y:6, enemy_id:ENEMY_CORE, status:"final_boss"}; 
//atlas.maps[6].enemies = [ ENEMY_DRONE, ENEMY_KILLBOT, ENEMY_SENTINEL];

atlas.maps[7].name = "Forest";
atlas.maps[7].music = "odyssey";
atlas.maps[7].width = 15;
atlas.maps[7].height = 15;
atlas.maps[7].background = 1;
atlas.maps[7].tiles = [
  [ 0,15,15,15,12,12,12,12,12,12,12,12,12,12,12],
  [ 0,15,15,15, 6,12,12, 6, 6, 6,12,12,12,12,12],
  [ 0,15,15,15, 6, 6,12, 6,12, 6, 6, 6, 6, 6,12],
  [ 6,15,15,15, 6, 6, 6, 6,12,12,12,12,12, 6, 2],
  [ 4,15,15,15, 4, 6,12,12, 6, 6, 2, 2, 2, 5, 2],
  [ 1, 1, 1, 1, 1, 6,12,12, 6, 1, 3, 2, 2, 8, 2],
  [ 4,15,15,15, 4, 6,12,12, 6, 6, 2, 2, 2, 5, 2],
  [ 6,15,15,15, 6, 6,12,12,12, 6,12,12,12,12, 2],
  [ 0,15,15,15, 6, 6,12,12,12, 6, 6, 6,12,12,12],
  [ 0,15,15,15, 6, 6,12, 6,12,12,12, 6, 6, 6,12],
  [ 0,15,15,15, 6, 6, 6, 6,12,12, 6,12, 6,12,12],
  [ 0,15,15,15, 6, 6,12, 6, 6, 6, 6,12, 6,12,12],
  [ 0,15,15,15, 6, 6,12, 6, 6, 6,12, 6, 6,12,12],
  [ 0,15,15,15, 6,12,12, 6,12, 6, 6, 6,12,12,12],
  [ 0,15,15,15,12,12,12,12,12,12,12,12,12,12,12]  
];
atlas.maps[7].exits[0] = {exit_x:1, exit_y:5, dest_map:6, dest_x:13, dest_y:7};
atlas.maps[7].exits[1] = {exit_x:10, exit_y:5, dest_map:8, dest_x:1, dest_y:7};
atlas.maps[7].enemies = [ENEMY_MIMIC, ENEMY_SKELETON, ENEMY_DRUID, ENEMY_MIMIC, ENEMY_SKELETON];

atlas.maps[8].name = "Facilities";
atlas.maps[8].music = "level4";
atlas.maps[8].width = 8;
atlas.maps[8].height = 10;
atlas.maps[8].background = 1;
atlas.maps[8].tiles = [["21","21","21","21","21","21","21","21"],["20","20","25","25","25","25","25","22"],["0","20","23","25","25","23","25","21"],["0","0","20","20","25","25","25","21"],["0","0","0","0","20","20","20","21"],["0","0","20","20","0","0","25","21"],["0","20","25","25","20","25","25","21"],["0","0","20","25","25","23","25","21"],["0","0","20","25","25","25","25","22"],["0","21","21","21","21","21","21","21"]];
atlas.maps[8].scripts[0] = {type:"exit", x:7, y:1, dest_map:4, dest_x:2, dest_y:7};
atlas.maps[8].scripts[1] = {type:"exit", x:7, y:8, dest_map:4, dest_x:2, dest_y:15};
atlas.maps[8].scripts[2] = {type:"enemy", x:6, y:5, dest_x:6, dest_y:6, enemy_id:ENEMY_KILLBOT, status:"l4_boss"}; 
//atlas.maps[8].enemies = [ENEMY_MIMIC, ENEMY_SKELETON, ENEMY_DRUID];
atlas.maps[8].enemies = [ENEMY_ZOMBIE, ENEMY_ZOMBIE, ENEMY_CYBORG, ENEMY_CYBORG, ENEMY_DRONE];

//actual inner production area
atlas.maps[9].name = "Production";
atlas.maps[9].music = "level5";
atlas.maps[9].width = 18; //will be 16x16
atlas.maps[9].height = 18;
atlas.maps[9].background = 4;
atlas.maps[9].tiles = [["21","21","21","21","21","21","21","21","21","21","22","21","21","21","21","21","21","21"],["15","15","15","25","25","25","25","25","25","25","25","25","25","25","25","25","25","21"],["21","21","21","25","25","24","24","25","24","24","25","24","24","25","24","24","25","21"],["21","21","22","25","25","24","24","25","24","24","25","24","24","25","24","24","25","21"],["21","21","21","25","25","25","25","25","25","25","14","25","25","25","25","25","25","21"],["21","21","22","25","25","24","24","25","24","24","25","24","24","25","24","24","25","21"],["21","21","21","25","25","24","24","25","24","24","25","24","24","25","24","24","25","21"],["21","15","15","25","25","25","25","25","25","25","25","25","25","25","25","25","26","21"],["15","15","15","25","25","24","24","25","24","24","25","24","24","25","24","24","25","21"],["15","15","15","25","25","24","24","25","24","24","25","24","24","25","24","24","25","21"],["21","15","15","25","25","25","25","25","25","25","25","25","25","25","25","25","25","21"],["21","21","21","25","25","24","24","25","24","24","25","24","24","25","24","24","25","21"],["21","21","22","25","25","24","24","25","24","24","25","24","24","25","24","24","25","21"],["21","21","21","25","25","25","25","25","25","25","25","25","25","25","25","25","25","21"],["21","21","22","25","25","24","24","25","24","24","25","24","24","25","24","24","25","21"],["21","21","21","25","25","24","24","25","24","24","25","24","24","25","24","24","25","21"],["15","15","15","26","25","25","25","25","25","25","25","25","25","25","25","25","25","21"],["21","21","21","21","21","21","21","21","21","21","22","21","21","21","21","21","21","21"]];
atlas.maps[9].scripts[0] = {type:"exit", x:10, y:0, dest_map:5, dest_x:6, dest_y:3}; //upper door to production ramps
atlas.maps[9].scripts[1] = {type:"exit", x:10, y:17, dest_map:5, dest_x:6, dest_y:20}; //lower door to production ramps
atlas.maps[9].scripts[2] = {type:"chest", x:16, y:7, status:"item_l9i1", item:"Crystal", qty:1000};
atlas.maps[9].scripts[3] = {type:"shop", x:2, y:3, shop_id:14, dest_x:3, dest_y:3};
atlas.maps[9].scripts[4] = {type:"shop", x:2, y:5, shop_id:15, dest_x:3, dest_y:5};
atlas.maps[9].scripts[5] = {type:"shop", x:2, y:12, shop_id:16, dest_x:3, dest_y:12};
atlas.maps[9].scripts[6] = {type:"shop", x:2, y:14, shop_id:17, dest_x:3, dest_y:14};
atlas.maps[9].scripts[7] = {type:"enemy", x:10, y:4, dest_x:10, dest_y:3, enemy_id:ENEMY_SENTINEL, status:"l5_boss"}; 
atlas.maps[9].scripts[8] = {type:"chest", x:3, y:16, status:"item_l9i2", item:"Blue Key", qty:1};
atlas.maps[9].scripts[9] = {type:"mod", x:-1, y:-1, dest_x:10, dest_y:4, flag:"l5_boss", tile:25};
atlas.maps[9].enemies = [ENEMY_DRONE, ENEMY_DRONE, ENEMY_DRONE, ENEMY_KILLBOT];

atlas.maps[10].name = "Catacombs of Epikros";
atlas.maps[10].music = "haply";
atlas.maps[10].width = 16;
atlas.maps[10].height = 16;
atlas.maps[10].background = 5;
atlas.maps[10].tiles = [
  [ 2, 2, 3, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0],
  [ 2, 5, 5, 5, 2, 5, 5, 5, 2, 0, 2, 2, 2, 2, 2, 0],
  [ 2, 5, 5, 5,16, 5,15, 5, 2, 0, 2, 8, 2, 8, 2, 0],
  [ 2, 5, 5, 5, 2, 5,15, 5, 2, 2, 2,18, 2,18, 2, 0],
  [ 2, 2,16, 2, 2, 5, 5, 5, 5, 5, 5, 5, 5, 5, 2, 0],
  [ 2, 5, 5, 5, 2, 5,15, 5, 2, 2, 2, 2, 2, 2, 2, 0],
  [ 2, 5, 5, 5, 2, 5,15, 5, 2, 0, 0, 0, 0, 0, 0, 0],
  [ 2, 5, 5, 5, 2, 5, 5, 5, 2, 0, 0, 2, 2, 3, 2, 2],
  [ 2, 7, 5, 5, 2, 5,15, 5, 2, 0, 0, 2, 5, 5, 5, 2],
  [ 2, 5, 5, 5, 2, 5,15, 5, 2, 0, 0, 3, 5, 5, 5, 2],
  [ 2, 5, 5, 5, 5, 5, 5, 5, 2, 0, 0, 2, 5, 5, 5, 2],
  [ 2, 5, 5, 5, 2, 5,15, 5, 2, 2, 2, 2, 2, 5, 2, 2],
  [ 2, 2, 5, 2, 2, 5,15, 5, 5, 5, 5, 5, 5, 5, 5, 2],
  [ 2, 2, 2, 2, 2, 5,15,15, 5,15,15, 5,15,15, 5, 2],
  [ 0, 0, 0, 0, 2, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 2],
  [ 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
];
atlas.maps[10].exits[0] = {exit_x:2, exit_y:0, dest_map:6, dest_x:8, dest_y:14};
atlas.maps[10].enemies = [ENEMY_SHADOW_TENDRILS, ENEMY_IMP, ENEMY_SHADOW_SOUL, ENEMY_ZOMBIE];
//atlas.maps[10].shops[0] = {exit_x:2, exit_y:15, shop_id:5, dest_x:2, dest_y:14};
atlas.maps[10].shops[1] = {exit_x:11, exit_y:9, shop_id:6, dest_x:12, dest_y:9};
atlas.maps[10].shops[2] = {exit_x:13, exit_y:7, shop_id:7, dest_x:13, dest_y:8};


